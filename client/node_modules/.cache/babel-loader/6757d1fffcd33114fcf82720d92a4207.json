{"ast":null,"code":"import _objectSpread from \"/Users/bestbrobradley/Desktop/code/homework/final-homework/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/bestbrobradley/Desktop/code/homework/final-homework/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/bestbrobradley/Desktop/code/homework/final-homework/client/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { SearchContext } from './utils/SearchContext';\nimport { BookshelfContext } from './utils/BookshelfContext';\nimport API from './utils/API';\nimport { Navbar } from \"./components/Navbar\";\nimport { Search } from \"./pages/Search\";\nimport { Bookshelf } from \"./pages/Bookshelf\";\nimport { Finished } from \"./pages/Finished\";\n\nfunction App() {\n  var _useState = useState({\n    term: \"\",\n    type: \"Title\",\n    results: []\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      search = _useState2[0],\n      updateSearch = _useState2[1];\n\n  var _useState3 = useState({\n    books: []\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      library = _useState4[0],\n      updateLibrary = _useState4[1];\n\n  useEffect(function () {\n    loadBooks();\n  }, []);\n\n  var addToLibrary = function addToLibrary(data) {\n    API.addBook(data).then(function (res) {\n      loadBooks();\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  var loadBooks = function loadBooks() {\n    API.getUserBooks().then(function (res) {\n      updateLibrary(res.data);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  var removeFromLibrary = function removeFromLibrary(id) {\n    API.deleteBook(id).then(function (res) {\n      loadBooks();\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  var markAsRead = function markAsRead(id) {\n    API.updateBook(id).then(function (res) {\n      loadBooks();\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  var handleInputChange = function handleInputChange(event) {\n    var value = event.target.value;\n    updateSearch(_objectSpread({}, search, {\n      term: value\n    }));\n  };\n\n  var handleSubmit = function handleSubmit(event) {\n    event.preventDefault();\n    googleSearch(search);\n  };\n\n  var handleSelectorChange = function handleSelectorChange(event) {\n    var type = event.target.textContent;\n    updateSearch(_objectSpread({}, search, {\n      type: type\n    }));\n  };\n\n  var googleSearch = function googleSearch(query) {\n    API.search(query).then(function (res) {\n      console.log(res);\n      var results = res.data.items.map(function (item) {\n        return [{\n          id: item.id,\n          title: item.volumeInfo.title,\n          authors: item.volumeInfo.authors,\n          pages: item.volumeInfo.pageCount,\n          // image: item.volumeInfo.imageLinks.smallThumbnail,\n          summary: item.volumeInfo.description,\n          categories: item.volumeInfo.categories\n        }];\n      });\n      console.log(results);\n      updateSearch(_objectSpread({}, search, {\n        results: results\n      }));\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(Navbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }), React.createElement(SearchContext.Provider, {\n    value: {\n      search: search,\n      handleInputChange: handleInputChange,\n      handleSubmit: handleSubmit,\n      handleSelectorChange: handleSelectorChange,\n      googleSearch: googleSearch\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(BookshelfContext.Provider, {\n    value: {\n      library: library,\n      addToLibrary: addToLibrary,\n      removeFromLibrary: removeFromLibrary,\n      markAsRead: markAsRead,\n      loadBooks: loadBooks\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/bookshelf\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(Bookshelf, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  })), React.createElement(Route, {\n    exact: true,\n    path: \"/read\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(Finished, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  })), React.createElement(Route, {\n    exact: true,\n    path: \"/search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(Search, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  })))))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/bestbrobradley/Desktop/code/homework/final-homework/client/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Switch","Route","SearchContext","BookshelfContext","API","Navbar","Search","Bookshelf","Finished","App","term","type","results","search","updateSearch","books","library","updateLibrary","loadBooks","addToLibrary","data","addBook","then","res","catch","err","console","log","getUserBooks","removeFromLibrary","id","deleteBook","markAsRead","updateBook","handleInputChange","event","value","target","handleSubmit","preventDefault","googleSearch","handleSelectorChange","textContent","query","items","map","item","title","volumeInfo","authors","pages","pageCount","summary","description","categories"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport { SearchContext } from './utils/SearchContext'\nimport { BookshelfContext } from './utils/BookshelfContext'\nimport API from './utils/API'\nimport { Navbar } from \"./components/Navbar\"\nimport { Search } from \"./pages/Search\"\nimport { Bookshelf } from \"./pages/Bookshelf\"\nimport { Finished } from \"./pages/Finished\"\n\nfunction App() {\n  const [search, updateSearch] = useState({\n    term: \"\",\n    type: \"Title\",\n    results: []\n  })\n\n  const [library, updateLibrary] = useState({\n    books: []\n  })\n\n  useEffect(() => {\n    loadBooks()\n  }, [])\n\n  const addToLibrary = (data) => {\n    API.addBook(data)\n      .then(res => {\n        loadBooks()\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n\n  const loadBooks = () => {\n    API.getUserBooks()\n      .then(res => {\n        updateLibrary(res.data)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n\n  const removeFromLibrary = (id) => {\n    API.deleteBook(id)\n      .then(res => {\n        loadBooks()\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n\n  const markAsRead = (id) => {\n    API.updateBook(id)\n      .then(res => {\n        loadBooks()\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n\n  const handleInputChange = ((event) => {\n    const { value } = event.target\n    updateSearch({ ...search, term: value })\n  })\n\n  const handleSubmit = (event => {\n    event.preventDefault()\n    googleSearch(search)\n  })\n\n  const handleSelectorChange = (event => {\n    const type = event.target.textContent\n    updateSearch({ ...search, type: type })\n  })\n\n  const googleSearch = (query => {\n    API.search(query)\n      .then(res => {\n        console.log(res)\n        const results = res.data.items.map(item => [{\n          id: item.id,\n          title: item.volumeInfo.title,\n          authors: item.volumeInfo.authors,\n          pages: item.volumeInfo.pageCount,\n          // image: item.volumeInfo.imageLinks.smallThumbnail,\n          summary: item.volumeInfo.description,\n          categories: item.volumeInfo.categories\n        }])\n        console.log(results)\n        updateSearch({ ...search, results: results })\n      })\n      .catch(err => console.log(err))\n  })\n\n  return (\n    <>\n      <Router>\n      <Navbar />\n      <SearchContext.Provider value={{ search, handleInputChange, handleSubmit, handleSelectorChange, googleSearch }}>\n        <BookshelfContext.Provider value={{ library, addToLibrary, removeFromLibrary, markAsRead, loadBooks }}>\n          <Switch>\n            <Route exact path=\"/bookshelf\">\n              <Bookshelf />\n            </Route>\n            <Route exact path=\"/read\">\n              <Finished />\n            </Route>\n            <Route exact path=\"/search\">\n              <Search />\n            </Route>\n          </Switch>\n        </BookshelfContext.Provider>\n      </SearchContext.Provider>\n    </Router>\n      </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}